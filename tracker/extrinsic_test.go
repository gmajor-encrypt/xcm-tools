package tracker

import (
	"context"
	"github.com/itering/scale.go/types"
	"github.com/stretchr/testify/assert"
	"testing"
)

func Test_getExtrinsics(t *testing.T) {
	client, _, closeClient := CreateSnapshotClient("wss://moonbeam-rpc.dwellir.com")
	defer closeClient()
	ctx := context.TODO()
	cases := []struct {
		blockHash      string
		ExtrinsicCount int
	}{
		{
			blockHash:      "0x3bc4c37edbaffc7bb0cf19e314fbf74ea18bad3779d977b003809b688e35c18c",
			ExtrinsicCount: 4,
		},
		{
			blockHash:      "0xae45308edf1fc25d09ebb4cff57658fc72129dd0efd875394114c9c451dc871d",
			ExtrinsicCount: 4,
		},
	}
	for _, v := range cases {
		raw, err := getExtrinsics(ctx, client, v.blockHash)
		assert.NoError(t, err)
		assert.Equal(t, len(raw), v.ExtrinsicCount)
	}
}

func Test_getExtrinsicByIndex(t *testing.T) {
	_, metadataInstant, closeClient := CreateSnapshotClient("wss://moonbeam-rpc.dwellir.com")
	defer closeClient()
	ctx := context.TODO()
	metadataStruct := types.MetadataStruct(*metadataInstant)
	extrinsic, err := getExtrinsicByIndex(ctx, []string{"0xedc70401008505b58f5866df8bba97726f68c87fc84152e1b22838a5ecc08c48a01245729a9ed3fe23f400bb8be6b6173c1ad8779813b59a61f1738e3fb17c04a4e8f01530033e61a9d7329f48489f7cf44b306d5f7b7e19ffd210c706ae6d72e5f08be0c1b9603f01292110066e6d62738038957f81eea93603fe4d2270a2ed78e934d10c059e05f690d184dd5b1f2260100672616e648101baa3312481e08b73af2d46b16009dd2b7031e04636dd3661eae8e0c552779c5b0c1b91a4f0eccc41170be76c5c23de67195450cf5a018e441c66ca330bbbb80a58ebdf1bdb9c2d1e6ee255c0faef2d7b46bea61a58349285b88d9368cccc9a090466726f6e8801ac2bad9dde77707be3690b908b61014a9f1d698c894c20ddf3023cd88a7ed1e000056e6d627301015edcf42aa6a7ff789b6c75a9632a0ec9df289a166c15e31f2a57d611ac2df758fadf861f42dd19e32e752003ad28a3f1c296bcfb12e42f34dfdf86cb010e178c1f70fa00b825cc3d287ef0166f8c8d67c6ffc6792d8afd8aa0a569b63825fcbf63b51776000050004901b456434b9dae0bfb8ed407000080c800af1f5d3c9ff4fc69f7e01ecd43719bcf9e9388207d2ef7e59158df51fc34090156434b9dae0bfb8ed4070000d434e8030000d0070000d6070000db070000dc070000ea070000ee070000ef070000f0070000f2070000f3070000fe0700003808000099015c3ccbcc03f31df2070000d40700005501e8030000009001000090010000000000000000000162ad0558f59dc13b96a4d02416b2bc5132b23482fce2138034455472478e527800e8764817000000000000000000000000e876481700000000000000000000009d015d001abacc7020dad4070000f30700005501e80300000090010000900100000000000000000001c169cfd5c391d3341185a5fbeefafe82b46882bc8db294e6bb892245da069f6e00e8764817000000000000000000000000e876481700000000000000000000009d015d024d174dfe56f0dc070000d40700005501e803000000900100009001000000000000000000014e7975402c33aed01e69e704efc52fafb9efe24bf9d471e80d805f96d410c1bd00e8764817000000000000000000000000e876481700000000000000000000009d015d0470d8ab87252fd4070000dc0700005501e803000000900100009001000000000000000000010346e931012d59978e1c6926d0e05f157430f18b3fb0852df5d3e6f80dca484e00e8764817000000000000000000000000e876481700000000000000000000009d015d057a605f506cfcd4070000d00700005501e803000000900100009001000000000000000000019e4d17fa198b4891fa0deb437b85bee42ba5930a14ac64e8e8aaf10970465a4300e8764817000000000000000000000000e876481700000000000000000000009d015d06bd8fd950de5efe070000d40700005501e80300000090010000900100000000000000000001c858ec18609e010cca48396ae90c29bddae2e145dee4ef44de4fac671c8e87a200e8764817000000000000000000000000e876481700000000000000000000009d015d07edc4cbc65e03d0070000d40700005501e803000000900100009001000000000000000000018ad89d06de7af86a95916451719dd96999c5e35e89291726b82e548a3755fdb100e8764817000000000000000000000000e876481700000000000000000000009d015d07ef7576b87a33ef070000d40700005501e8030000009001000090010000000000000000000117e14d3f0eb68c69ec5f9db52e92cb76fc73b358ed4cd1d35b14037460e8b5d300e8764817000000000000000000000000e876481700000000000000000000009d015d09565659c28aded4070000d60700005501e803000000900100009001000000000000000000016d75f499f0f7518e7d3f8a426c2ff146c7df156a7d5fbaf7a893dbf33fa9bab400e8764817000000000000000000000000e876481700000000000000000000009d015d0b85bc463fb44dd4070000ef0700005501e8030000009001000090010000000000000000000188c10fac5d9106658d7b5e7e7ab3c83802c1aad68bb21752b7ca50033eba8b7300e8764817000000000000000000000000e876481700000000000000000000009d015d0d16a376c62784f3070000d40700005501e803000000900100009001000000000000000000017692c9455f98ca73566fbab696418e0d5e4251f6d18b1019dfd388a823a3f45300e8764817000000000000000000000000e876481700000000000000000000009d015d0fed44fce68d34d6070000d40700005501e80300000090010000900100000000000000000001be9a55d69d2c4aceb3a44b48de070eb69b589758f1d4f82688107c524c067b1e00e8764817000000000000000000000000e876481700000000000000000000009d015e0ed063ec9760dfe8030000d40700005501e80300000090010000900100000000000000000001f76ce3bc975dae14ef1cde2f15998ca283f305797663b5dc78bf5e90378ca1e500e8764817000000000000000000000000e876481700000000000000000000009d015e18efc74d4d69ebd4070000380800005501e80300000090010000900100000000000000000001ecd43104cf554a231f3741899359d5f2d6c118cb68e7598d61a13135f0f954f700e8764817000000000000000000000000e876481700000000000000000000009d015e19237cb37f852cd4070000ee0700005501e803000000900100009001000000000000000000010dbf703e316230ed2a93eefa6fd1290ac309772456fd4a5b37ded0894d05569500e8764817000000000000000000000000e876481700000000000000000000009d015e1ab8ae8928daa2d4070000f20700005501e803000000900100009001000000000000000000017d3f057fa825bdd30758de0f7cd56dc2c7adf7b67509bd7bd682c0e6a42164f200e8764817000000000000000000000000e876481700000000000000000000009d015e1db4c5411632b9f0070000d40700005501e8030000009001000090010000000000000000000116b3370ab8e056621cfb9ebe8abfebc66a29c83d895b9a1afbe51be19529545700e8764817000000000000000000000000e876481700000000000000000000009d015e2cd635616451bdd4070000db0700005501e803000000900100009001000000000000000000017b69cb6d9438e0ff0b4b0f2d3d6e1a7c1c78a6511bacdc160549892484e66b0300e8764817000000000000000000000000e876481700000000000000000000009d015e2e57bdf7cdc523d4070000f00700005501e80300000090010000900100000000000000000001e60c2ae5a671cfb0308db2236cdac6d8184654a7164c3fe786009e635882ccdd00e8764817000000000000000000000000e876481700000000000000000000009d015e3f5448847f3a19ee070000d40700005501e80300000090010000900100000000000000000001668a6d6c068cb4ad9589763f64a664748e62f63bfd5d2e7b37a2252910364e6900e8764817000000000000000000000000e87648170000000000000000000000c45e414cb008e0e61e46722aa60abdd67280b1fdfe28919890b74cae03798ce3c01e4d94b435c5384153200f434cc0ad00b119015e4954db2b029b4e38080000d4070000d4e8030000009001000090010000000000000000000000e8764817000000000000000000000000e876481700000000000000000000009d015e72f4daa6eea1f2d4070000e80300005501e8030000009001000090010000000000000000000157847425fbb3dba0659b4dc7ff196e6ece980c5d5af663bf28e24e01762cc30900e8764817000000000000000000000000e87648170000000000000000000000c85e77dfdb8adb10f78f10a5df8742c5458401cef45e3a8bcc060bcba37b1564436af1e6a52af312b58b25cb50f4efafac290519015e792bbdca352133d4070000ea070000d4e8030000009001000090010000000000000000000000e8764817000000000000000000000000e876481700000000000000000000009d015e9a84dd550b22a9db070000d40700005501e803000000900100009001000000000000000000013328ed9924dd81e66c75daafda94720770fce85bada83e1da2bf35607453420b00e8764817000000000000000000000000e8764817000000000000000000000019015ea68583e8f8301aea070000d4070000d4e8030000009001000090010000000000000000000000e8764817000000000000000000000000e876481700000000000000000000009d015ed4b1615d885318d4070000fe0700005501e803000000900100009001000000000000000000019e4a1ba48132e91d754cc1635d3939c3c8e24826fd7b877146e826f1b9eb025f00e8764817000000000000000000000000e87648170000000000000000000000c45ee678799d3eff024253b90e84927cc680b62cdf1993a39c755cc67d9356d86249cb5218c0ea53727069ddb3b9afe2ff2e8d035f04b49d95320d9021994c850f25b8e385410300003000005000000a00000000c8000000c800000a0000000a000000403800005802000000000000000000000000500000c800000700e8764817020040011e0000000000000000e8764817000000000000000000000000e87648170000000000000000000000e8030000009001001e0000000000000000900100004038000000000000000000000a0000000a0000000a00000001000000010500000001c800000006000000580200000200000059000000000000001e000000280000000700c817a80402004001010200000014000000150180001480608e5669250942dfa37bd6bbbe7d4eb33c9e0269c560cbbe4444f5eaf86f16dd806461711372e4807d996a8e3e423d385848a3dc5a611eaba25c052140e0a41978150180008480f6fbb059cc3453be5f58ec911a2361c5529d28bdb83e00f6d73da39353c02a87803f282564cbe8b70c308c9ac545089bf1559bb8dd5d4f4f1ce58a508ff4591482d48000c0787694c040f5e73d9b7addd6cb603d15d3b0021d9da3ceafbd080d00000401485e4993f016e2d2f8e5f43be7bb259486040015018000c0808ebbb15a2dbfe4b3484a1d86044629303692ba218d249e12e29f0d55af364a9f8071f9a6a5ffcac952169e61b972efc524aae356e907f271c507617ebfd50b2a1415018000c080c0cc5d6fc343734f87c8f8037ce501af4888b26569b92c2c0f5302cef41c9cd8801bd4c1574c2f5836acba6127811bdb3c2e0d19957cea015e632c10c4a307961415018001018016761876f4ef46ef05894c1766a88750c2acd4be112ef8a435c51a97bcc10bdf8090596d98eb46d0a58b725991aaa60e6e3fdb02398887c0eb7d2a6b1d9d8ccb191501800102803d8042a21efafbaca692213c23bd9557379989253bde187feac03c21505c409680a8cb79b16a1b70d2fef14f21c50bf93dac22afb0c98d11b44ab88bb7086480d615018001088071789b2c54a80aecb91b0ed6dcdaebb4848753916f8ae49b8b6f5bb8d7695ea680d505a1bdf5d9ad7aee24df67c19f8fad442383921baa47ca01901f37fd2641f215018001108033af5b0c0ddbb55d98d77341f44c1f160ec4013876215bccfcb03e65562d6e77807c85d30dadfe80dfcdcd6458eccab17f471c2a7c81079ee81ea392d93a949ebe1501800110807dd56cbb5be5ea5540444fd0408de8e31f8fd75cbcdab85c573f882291fa0fa58074e7a07c184ddb00d8f5f79daef178513b08af008d2a1733468aa7d48e02225c150180011080d0d6339ff94bac5daca8a3de3faaf26b0203dfa650ec25a8ba2b4bce299d486c800ebe650369ce0e3ce85b22816181f598cc6ecf7a3b22314357ab4181b9ccb867150180020180503b179bf225c1b2983c1fb7c86cdc9b52d280434257db2a2a5a8811834abbfa80862a02fc7fce108d498e6adbe538563e61fdbdba0124c5baf4cf814b9f8a442f150180040480bb308428c13449c9954044fe309d6d99f264c79330e10ccbd3a8ded5e8c2b370800fe6b03639ff2739e42b263a64b97458bbb7b04a7f13a7dd10b77ba5c3d3940e1d028004648008ba775ab5b08affaf67999681a8308969ca4342a1d0eaf27f595e04311af8a3801093e52db2f352fc46f6bc215527837964bf82b5a6a151e4a9d7c549e0ec0bc8803e225d3ef3a99417af29fbc0a7a01e049d36cb11f39ae4e3f40d90a96afe84b9802a14dec4209b055c0eeb6762b3a42391cdf2268c569b876c07a9a0caab64f9c81501800804803a26fae0a00f057bb7edeb5c1a509919a36fa32687daaf71c61547caad04ba038078abbfdfdceb816a52873119ef047c6ed65824b4cd16de4ca1827deba09b3807990180080c80d066a00dc79b0a8601ea466d09a4c969c246ed7d8b4f029afcd41944e33ae8b08000f9897491d29f3b8c593405f236b24cda3533b997222689a95134eaf9a8b10080ca0416040bb88b19d47fdd0a6c941993758c55c18a3b300ee5831c0af6a773dcdc8008208021779f37f4e6a271217d9521c3c8c74ceed31e97026dc2f2093e46ec39e99a87485ead6eef5c4b1c68eaa71ea17a02d9de0400a9038008bd802be49dff472a3d3e9cdbe44420c635c20fcb7ba5713985257f79a27394f4883f8014c49b617659940347c7858733d427a6a4b814f4a1a01add0dadcb08b02a203780555f1af4fd4be7b1de0579b41dae63362ac893d64802fc1c69d4d1cfaf42edd8803198918edb1541db193c4f4aa6969a32daf26c6b917b261b73550565953172cb80d934a84bd0a4b6950e560c31552f78385cc92fdd36a66f07592c54165fcb8a7080f335315081f0e3466f40203cff0d5a8353767810f9dba975c4e972f6b04a7e2d8088d7af3e53dc7d2f30b531f083da46a80786a3d2665e918f58c5ff474c4f2ccb15018010028085417852fda2d0c6116b20960bca2adf17669b334fa8d9418360a8461e5a19f6801d219b4f54f94a2a61c0d70556f24238abea46efd8cdfb36af776fc57f2e5e30a10280101780cffd67c7aed9964c887e3c9e987f37fdd433d532e38a2bf7f0b67247f9fd998580557ef12ce1063e3291e4007367ba9f4d13c12a73c86fbf7ed219d5668c45cf4a80ca1cfe04c8b7d8c94fa52e5d4b1dc63c8d6942f2303769bcf4f62dfd22f5151e802f2b99b246ea30303547ceaf6e7a39f4d506a55b9fb3b41755699fcd3a684a2f80af8325d9ca1304270fee2c626e23d8751d7cabfe7a34208681d8228607a543d7150180108080f808d32870a25209e72819cd7c91c81a0163f772ae93a7c4d3c2efeb090a662b809937a26422c86954ab08754725b11e059b374f622b14ab448ff1637832bc7e091501801200804dfa7c0a0599d2c96b8ab196340ac743613eda4eea8516e8c01fe8ae64ce30848063088d466c2a106b2a963c6acbae471f737e78e0778a36ff39ae4fd97c220141b104801b76807fedabea4f1ad0a180e54fc53942d22fc3616bb2f29663bb9424e736c2bbf3c080372db6396aaba1679fe9e4619e1bafd970dfb587f16cba7ee11c9c13c3220e6d80e3bac8ff7c3819e8351a6f38c6c32b2685a550ce4af50b631025a5d2ba7bdc5e806c34b6d9eaf3b2971aa5796e351bb790bd1b64b2b1af67091490507001562786807d3e747841dfb31ee5101c84b54ddba1f12f3a9f1e918696c0496d48c1ecadeb8002e6a70ccd91f7a7c200d4ad823843e7326bc112caa62b6295140ef4dd612350801067994c1a98ed93598d0dbe94b1afe091976cf78f3622b300105c81ed33d02c802c9deae57ae91c6619f52a653ff150e6f8928cd421cf6a6cec84fd9b4111107380c6e23d4e232a91069bdb681e7e5a8309c6537da00df3ef481d6bc2859e0085c6250380225580c7f341af5a9b1a28524bb8b74512c3d9fab1b164dc92262c59af7aa77641db3d8026f7c9d7999c292ff4f2248d3af30cf6c837ad9a28a95e88fd5ae9e07c6070d48033f95925f1e0b0505dbba8c3dd2093876c69b9f3b3fed7653b08932e60a121c38074c1ffb523b4ae49c403cb20da9f9c64f1d8d9a28d077bcdd5f8b6009b28ebc78077e20e3e8fd18cebde793df6204f3259fb7851cd86b5e29df9245d4bb4d06fee80ad4b1f1bff610d731ae7bab96ee9dbd3c0396f92a720cc9a814202f007dc03fca1028030a180d5e2607a900ad6fc91692e07975870333acc08db2f48c8b5b8241855874937df80d43aac2ec8df93850d8fb9e7bea864d228418eec6cb9cd00f7803b98f0b6c35e8088f44289aaca7c9338a2197c806e9edb120475419c4f6612b32fd2d2bf737d678039b2c7a9e24be9851cefa4de624400386a074ca5be9d5699d3cdaf34d42ac96980127523041803d03e65779357d11baf08f8f678c938745bea652244d6c5ab27d725038032468097510d2ebae90db9223e2f71faa5b0c615b8c9d7f58f2a2d79b58e357827329580be6101dc132e77fb3e3a54c57e3101dfc0d19cf83440b8437de78ebab6974dee80bd6b95327ca81d07d20cc368ab89c9b77cd5bb6c88c07a22f7c56cf1640987d28011f2532a5c4c26589c7742b3904f2a2b86fe394de2d096d3c757017faaf3f23580f3c915b892d6c66284f97edd8827ff2361707f86c7c1e15e3f40c9df8152b81b80f9da2a32586798fbc16a31d8ce41eb62983e537512c8891b5d0e1bf22de7f379a1028048c2807df6e185fb8a9a2ab46361d0c28d04f7442100388d43ca0ea84d00899e9046e380ced191e3ef14c32942b57380128bc2628f71fb3cde840742f93893e8361def338049da90db410ddc5fcb63a6ba31fff1140f1f027eab9f575207946938a6dff04980b2758fc1be398ca37e922b5751cf144eaa5ffc191b8c5418be6811d79d846f2680a60cb4e46980ced45fd14288cf110b42851589b4b1e75ac347ddbfca43d2857c1d028065008066c778ff81e97dbe38f09845b99a61bf6d6ce8b25d6e223e3e7fc52b66d4e40280a7d16c742c712434970a21909691c727676d837d83cfe7bd9824eecb365ab83a800d9903b94fb8fafc7a85cfdba0a256ff3c4510a5944073e792bb9ec81b11518480af579d5ddc5c697d42bfc014076594e66c7b324cfd3017810c4e93e4f6f0ae9e25038068388014d4994652734a790d4f6be9494af1a91f35776b9331d66766c2e729f371b43c80c67bcecc2dba5bd598d2a02fdd61a9b2cd590c25e917616c5a64e6ba48653557809180aa5267d9c5ff21057da5dede5ba6ca3015cf754a3a55d73f22074d14efe4806b7aa773fe205069c91851e55e9141550aabdfbdcdc6c87fb3cd20118c8a8e2b800dff6bfc7a9ae6f75055e896732b65629a44d8d5f746c114b45121c6f83ad06480c0844e3447f2e5942aaec79d9f825abcf55f9119fc814cb4072aed3e02c7ee6d150180804080d86819006e1fb51053acdd2bd55e1ed6e09063b70524be1dc8e18bfa908d58b7801e134709b0bee25481906ed150dabf695be87a0116a9348e0f4704fb7ba0f4b29901809004800ee0885940e7612ebffaee02d4937d609a14041c6e7b8ae17e64a318cc7a3e8f80e80c9260cb0a06d3fe8fe48474170b60458cbb411925e316d65026f5e63760e4806ac4e9f82232abebf85f11f9094b9361498df952d5618a4aca030b710f76da07350580a7f28067a21fc297c072d86af8833dc8b7516ed7acfefe62347fdcc1a6aa3a7cf104eb80b4d6046e53d27c2b61d3af6e263b781d1a8acfeb2e90eefe2ba057bdb4be755e80f5d1bed807825da595b42ef1ac5619b90267c8a050a1a31ac7da9cf6f72b2f1c8026de10b88fd6deee3f8db4588d64c109f397d1851fad17f756afdbefee9ae5c9808c1735bbd7136c9305a17b42e19f83d46a37ef1d788212c6251be5d5b38ff27d8000e50c9a800d3b9982be82539333cd4929760e31ae5dbba7d5a6e85bacf602b9808fac6f5b26a0a091512ba579c768e78cd75b5f91ff02dcd27a011a1b9d3f8ca08063f1c00aff89bf7319483de0e11d1dac9c0911c15255a602d61d2eab1a3c65f580a1bc1619a42cde781dc7d8a0428f12d77d3523c65a926c4b6feb2d82710c2a1f80cb24bab7aafb9af4540eca0deabc75291eb69b0579eb8b007eb144764bd90502b10480b07b80cad04797e00691a59641d54ee061c556b997b586a96c54575e4ad17ccd06253680a0528f647dc0c1385fdfb0b8209e48955683b14a9bd350a6b3407c2578cfc59a802493fc119148c7f3038495e40269bd86e481f7d16bca9ead1d0b2af97a8675378072fe9a9d8e8551182623384b6b2fb1387ad4ea8e0e3663ab085dd9b65a456d9f8090de5adc2bddc729090597345d49239d5b6e0f033de46f32e79b507098ad927080a4ebb774ac9ffcbd46de446979b29c067bc961a66bbc13e2f84177679483481c80f917d605e5ad49102aea239730d2e54412a70f70b8ba1185dcbe7501eea091018060e78c6eb313475e8b4abcf14a4a7ba3eae6178eb0a55df188abcbe204f7520180ec283980edf1356b626f9790dc646e7b9b0c4cb4161098b90fcdb356917f308c1d0280c088809a15ab40040c0bf6e2b16ad911230bb5e2121e1d27a635fbe4e8c354c6cc2bd780d434139595dcea950b8048b3992c816859070bdd5a40bb75b35f4eaf2e80bd4a808c68f773671aec1db46b2c37b4c827e64aa7290d65e305cdaaa6b175596256f1808c2eb733daba0b52854c258c6a751f8ebd1d109c106241686e02e2be08fb63d9250380c81a802226b785a275ad92a3680f4a19b9d09c806d8fe77160cd45276573e98ede3dbb80b343a6745a0658845b778c1be6515cfa4c48298486ee9f216bed3b83976e469d80925471f2eee0b39cb651fd9af9a89c211d1e317ac839c2cf23f9e5e2218c4e5c8085f1fcc89e677b176e773abb67589bc7a784cfc15ffe43a710377ce6252d8ec980181892beeb62e9af2b0564c1943ac6fc254f18e6323e197d22eea1b540d425ef804907a6f458ed7a7ee32397b4dcf62d37a9aaf2ced8b4a9f1b30871f3c4f37cae350580cdda802654f350f2901df03459efca15248804666c7ce2397bf89b8a61a52a7cb4908580ab36cb981c8e67b6cfb591f032139b2e586b1fe9905d7b324fd71df7e06a91ee802e1953c645c2b0ed27aacb7a47675de1f2fb687cdc7cc67f2b4d9fc329e898ca80375a559dd205e45e904000e25e1603f6fcd32fa10bf10882a90c432d5f7002c780735ef803cdd397217afdfbbe850b3f5151d915a0e011e24fefe257f00327e91480bdfc1af50c16e33afacbb49999e93688b45101f50f8ef228be0976da0a916eb980045622a5e6f1835b920bbb8a0b3fd8c31f3516b74ddbc93628e6d8e2f830cebf80dc8ba398e0ab0313cff307a9bf29dbf30509bc737d3bcafcfb647f8a0b81290f80c02bd1fef4b8c700febf28d1739305b4a093ccf3fe0476b62c7861e865ad31518018e349a0e35d67d02c8a0d48b20651dbfedcb3930252b5ad2c18b3ebd46497d52d0480ce3880ce9d2689a7ec221872e38383ad53c579549c1368ee9bf487db3a9b11a0f592c980b7a968d4dfb80786e2f4cd300cc4078b7b0403b3a53419ab7cd1bb3c69597b37800bce992e2378a333fd4f1dd999279fc6005c1d2bff143d6ac1be0bac304a796e8062baa6d4be8eace5285c5b1af2204784d5fd3990d8db14e01c7ea3d207e7af21807b7ad6eb73914fd07fc55ad89ba771070c1da532a9269475dc64f1995d4d9266801433baba94dada26a0bf7f2d9de0a4596261d582034ea9f3c802afe1a387ee238040f55b98c02693774ce07bceb46685bd67d6f81b3a5716b1463a0cac4af06e8c8084c1872503d1732a826b802530df0e02bfdc2c36f15472ccf7a22dc6c34b7e1b2d0480d25580bcf393a2947a27925c1465aac44bb58da954b3cdebad224080d3930b6233b70880b2f2919573f268af028adb349737c4a02307604f919ea92fe816c9f09159048e80a67166f960361d7218459add6f5468a4817df7964140dd20412557ce4af480e5806fe63b85037c0deb94f8012b3501e00171effa8ca838f39d9dcd15269a6a69b78037dfa54df22042e58e070f08317632d1257f73fc0d83f716b24f1585f31dc63c80cbc649bccb6cbe2678b258eb56b9985865852f8dc3ca4ac4608b46dc9a61a5658023a3480de00888a78944e73245dec60ea3462017141429ff04d7987256e742a68053ea7f8a9846a749ecb5cf4e6b61fb73d550731c9c8b28fef66566d0ac606d6c4d0880ffff8027139101e5e1bb1e2f27310de546918597c969968486117f18a789731aa086fc808c31dfc93282f8a5d83f77eab17bc0c584d6ef0cfa91e3d9758da63c4fb69daf80311a3a43138b428d4bc0b2395f073667d530577bb2724abdcbec51efc3b669cf8020055ac211b3edf13ecc222b4d75ce18bdd694ba306118289fc96ec9e701925b80e5218d0a0f6474f2ed888ea7ff814d0879c0b75223f1563a34494b2d5619c1ea801c9d22fe17a071affb059903a07995e655a8976cdfe1ac76cea296a8beedb53a8005fe53443f423b11ee3aea9bafe7c3691e4d4f80a505bf9f26f85d6cec57733380a723fb509a5b0d69bd54ede5708262acc5ce1ffbf86dce2309cacb7dc0581f8a809990b805801e6e7e1064ca8209c824a61df2f4b1ac088c2d79c6d7dad09dcb5b80797b067997b13129bf43f04a99700e1526cc4fc87065f60571fa90745a03628780ccb29f1efa59fd7c80a730cb88789a5a256b01fee7e83ac9a3c90da330adc7a480ae3feb6d8b2dd4050435a551c930fd5cb45cf106de4d86cbbbb195c38b2d42e4802bf115ff74d72b54c94ebe909b106309521bfc44c683f1cc53787406ba7510bc80f4a2d26e3feabf7120c56c3772cc9c7d0014fb37c09328add5cd422dc8a9bd7280cddef164820b483c82a6801636af352fd1173f74a2067cdab9d9fb8bafd4389680ebeafad9325c52299ea4040d4c03899a9c96be688d5945f0bf6b6f2ebc9a930a1901810d002280892def5182ef416aa7f89e744c48ad49c21dd316c1e4c5f68b1e2ca3cc83b5cd805c046e92735f0a359cbcf0f192e933974a4df781e69259733597058d327c8e8139029d007f03cfdce586301014700e2c2593d1408078a9420cbcaebf2b45ae305b2d61fe8ef887e9b070e85a935507ec7565bba69b505f0e7b9012096b41c4eb3aaf947f6ea429080100685f0d9ef3b78afddab7f5c7142131132ad4200200000000000000585f02275f64c354954352b71eea39cfaca210020000004c5f0ec2d17a76153ff51817f12d9cfc3c7f040069049d0da05ca59913bc38a8630590f2627c07d980e31474f9eff442c9da1e9f34f99b80357736202bb0f03cb01e5be293706a5a3b80823e13846f8ac7fd517e432ff041eddfbfd1f1dd1e3a1a07bbd412a174a17460800a3507fc738e4dc4fd7c5a3115c6c4dee17e9dc69ac2cf33628677da1721aa25805ce18f1bd81676e1cf584e1a98a65dc0ad7d5e847cda52d3aeaf5f644f10b51c80e25e52a69311ac0bd02985606ab56b7aaa3b1acec5b57450eebd7a3ed5831de18070f8296f11a8f3215f3c2a40757c9ef62edacf209abfd5774cc55cc08d70a4cd80e67bd2679abaf77e739ef31e2b1baf3b5d1f399f2f875a2a2553ea3f3ecaa65a806448758973cd09d8f1b8f00e390dc0681c116c342dcf6905d29c2a59de859b99c1059e710b30bd2eab0352ddcc26417aa1945fd38089ff9268beb95bd19beb48b4ab2312bb0e1808ba61e33b4c08b843dc5a8d1a5f80b91e49e6ac7e9e68eb9abe9f872fe4bccfc8f0ef647ee312f8abff7cde38e252807f88402cbbed7fa3307e07044200b572d5e8e12913b41e1923dcb2c0799bc2be80b88c1583b76a6698f73005b1454486a06d295c8d5ff260fe5cc5babf8c58f46380b9aee043e378f8313e68a6030679ccf3880fa1e7ab19b6244b5c262b7a152f004c5f03c716fb8fff3de61a883bb76adb34a2040080281cef644c4dce8b43886813b69b0b146292c1091dbb6473adb1edea37f1d0488008a0c609ab4888f02c2545c002153297c2641c5a7b4f3d8e25c634e721f80bea80b6617c764df278313c426c46961ccde8ee7a03f9007b74bc8bc6c49d1583cf7d80566a08195bc6ec498a2566de89db1f0ae7e4fe6a33f843e7bcc074a06bc96287803064bcfd55ec85e157cffb4378f7fb00f43793e9733bb05416f5bad08d3bb7737d059eb6f36e027abb2091cfb5110ab5087ff96e685f06155b3cd9a8c9e5e9a23fd5dc13a5ed206078c81000000000685f08316cbf8fa0da822a20ac1c55bf1be320d61a000000000000505f0e7b9012096b41c4eb3aaf947f6ea429080000804a0f15068f3b70f689a049076affa722fa74a56064a612194a3949149b09c9bc80ccd7eea271ab4ba95eed0fbf898a82fb654e2a3232ed1234bcaa4ab30e8e91ec804cbcd6dcc70fabd9442d060c2fb0725aefc02ef57ae2b55a588557818e66031c800d49fef039517cc312c00412803ca1df50ac6d90c50541f649a9c85b83c0fdd88013a99b8a112f2013c241a19493e47d471947442b9b195eaabcc4bf5824bdc6a98060a6631443166fe4c16c4e61b3cba74393a57a8dc1635cf58aeae912f8eba4388027fac640d42d8fc5c7c573cf655a039ba34e1b0a55a1fe5d7a54314da2a9e51a685f090e2fbf2d792cb324bffa9427fe1f0e203563fa00936cfa0071019ede3d8a54d27e44a9d5ce189618f22d3008505f0e7b9012096b41c4eb3aaf947f6ea4290805004c5f03b4123b2e186e07fb7bad5dda5f55c0040080edaa0552cbcbf2743257cf6e40eb1f90eee8bc209c62e88dfe038aeb92cd29a7d5019ef78c98723ddc9073523ef3beefda0c104480c464a5f0c081e1fd10cbe54d142ce0088e5c8bc9cdc150daed16bdf1e74e3d8e80f221b5433a6265a0690bba1f5f4187ff2ea4e61a7ae2263662d43409c80e98dd80270310287a34efa704acd34e7831ef487d0502ce6c01434564175fa6768ef011b9069f012b746dcf32e843354583c9702cc020ebbf800d9ce8a4b8c8fc25e8adab4cf557a9f6dd39adff0340f0944c5102a63d9416a4802010697be8bc2613f20f061f5009689e46f1c422d17771f78ad7a25916a7039880f8bead3458984257ef05d8569dbc03a65da511a627f8dcfb7ab3ab162713ee1e5c570f9d7e46afdef838d80700002408d0070000db0700008002764f06c998b78ae818bed2ab379c3decbf086b87ee6e023be93cccafbb2db05c5700bd9a93e85e3ce1d20700002408d6070000dc07000080024c0a889c07648a526117bddb3d8af30ac788532dbd84fd65394dc7475159d680008564e4da4ca1189ec857c765d157a7ce8eae8e9b6d6a3a568c47da6ba954ed80057bfe8f6c8f99e693d03aa1fb05e0892d3c6b897ba27487b4ad6d68f84a94de80f2f4a6cd83362387fd1de5a46e9d15c1c512251174fd2fc6752ab47b9713459280e5436286787e3ab5d17473ef24f26a433911086e875c80ea01d4ccb21a926dd2806b77130c21e481831f632ed58d760324860079e03600ac82e87f33ed8d039b6c80c1fe76ee3b8cbf409e83f93c3f68f0d2095d8b111cce1b7ba5d98a70fa09dd348d089f06604cff828a6e3f579ca6c59ace013dffff80cb917b34e6607ab14afe5abb939c0c7cfe93946a36137a5c7846891d49cded4f80edacf19d34719eb8ee2ff9d983b1ba096d963c7ebb108363230b4e5ae898e28780b62e115da6647188c912def73f2724056d389114d94bedfd36bbb1a336abc3f080b4de0449f4bbcdc806276392ccc55910d2085c1f307d75a00064b70ebd29680f80195a8fe199074b6d74ed73687e1bebd4078dabc001e3fc85dbe91974aa62a55e8052b910c716c49cb950ec2a089e382110f4c9e9551d227c9f84d19d3238b11034805b2b0a3d54078ffa821b1f6372c5f04e869d901fff8c3e06cb7504927a3ead1680d79687288599a58b5813dcf09b3dbefa4669949d5609c3538edcf5d8cc7689f4800fbec8d26b6e7881337ae597973b75b20ce0aefd5b1842c874771e514eff13ec80171a6df673eb36514fedd61b5c5aeb0f5a4b971da37bd328034dc7e357d3bdf28061fbc66f98136c3904e6f3fea1815dc95003ba6181c55a0a915fe4a9d0d8232280d75bdb4ec8e5dfa09fb0a7ed2a2037497a1b08bf32d3891bf983a46e5d5998f8800ae1e603bae6803491778c420a7abd52897ddb7696ef5df09afee5957e3f141080e1aae3920497fb56d14f7487f71556e11381fa626094fb57717b97b996d907e48024cb7c22d96bd59b8e76640b6bae77352a5d76e39687017504374fa56563e4928047cab3227ff4c267063fb8ee00514a4fa0bd1ddae9c86d1562e54d553191e43db9069f0d3719f5b0b12c7105c073c507445948ebbf800d9ce8a4b8c8fc25e8adab4cf557a9f6dd39adff0340f0944c5102a63d9416a4802796cc6bd2ad7e07920e792103d83d96b26359f310e540b33f08bf8a6c856eeb800ca466110f080b72ac06a6a66b93c07fdf236804dcb37e3b386e5ad3f9b8722b5c570f9d7e46afdef838d80700002408d0070000db0700008002764f06c998b78ae818bed2ab379c3decbf086b87ee6e023be93cccafbb2db05c5700bd9a93e85e3ce1d20700002408d6070000dc07000080968650484908b92c44f499e69000f48a3c8128054c3cce84833d5734f34f346c80008564e4da4ca1189ec857c765d157a7ce8eae8e9b6d6a3a568c47da6ba954ed80057bfe8f6c8f99e693d03aa1fb05e0892d3c6b897ba27487b4ad6d68f84a94de809756796c16e3de4424ef8d1baf5b0ee3b661b5dd25e785428b10adb80ac3314180e5436286787e3ab5d17473ef24f26a433911086e875c80ea01d4ccb21a926dd2806b77130c21e481831f632ed58d760324860079e03600ac82e87f33ed8d039b6c803dc949b2d2c13a2f6ae200948d5e3b65f8dc3433fd731c4fd88dde33f5dc51b909089f0d7fefc408aac59dbfe80a72ac8e3ce5ffbf809b8079e32887a2788aaad0d5d0549e802852b73d737ef25cc7533cd3a0458aa48074428930c3a45702b98137810c1c3145bc1d715e1506342b5eb9f409ee0b440a807e1ee2c8362cd0745aa0c58780b99fefa1024c1b472d3386a2319e71b68028a680747d1cc30ad0d2898e9e9ffb96fcdc4d7d15e47190a269976a445a65b94fd19f8090c332a4d08d465efe0aa60e5ac5f8079cd6aacc9d0357f350d4998c01559f3f8013880cb0e49362c61335b2c20ff954ffab16e6e884b8dc82c435d92e4c41d27580d184467cbf2fac935e8ffeb2d41404b5851d00bd1b44e1386ca407619d3bd66080a9e6d29bd1ee69601d4b3bc1f545c816c3d0508772b487f6b2a3d8d3e14fadd7805c6344bde30e021c1b667c0b2207871ebcb0207f517f958428c4c528ed1f35d88088d07d04921b60a9d3d1ed366425fb60e9132eed6383fd587b6b245929521ea9809ef397cdb8955de13bd69b82b69a32f58107ea181f108a763f976c867c418b818032ca9d67dd8ecf522eb68e69133f616f4b85928dfd33f7ab77de90f06d9b91a58071f75f096862073621a7087719b2fbb3a0eb0f775dca258c05cd0484c35b92e4800d5c4597cf7617e1952d19160f6a98d846a271b11dd4ab618bc8464c6d665586800e24a8bd22f369ab6efcfa4cfb51c72831da09e94fb295da90697aab4f0dc64b0034e803000000d007000000d607000000db07000000dc07000000ea07000000ee07000000ef07000000f007000000f207000000f307000000fe070000003808000000",
		"0x280403000bb74a855a8901",
		"0x0c041500",
		"0x0c047800",
	}, 2, &metadataStruct)
	assert.NoError(t, err)
	assert.Equal(t, "kick_off_authorship_validation", extrinsic.CallModuleFunction)
	assert.Equal(t, "1500", extrinsic.CallCode)
}
